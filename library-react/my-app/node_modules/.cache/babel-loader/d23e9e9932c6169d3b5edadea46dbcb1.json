{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\robin\\\\Desktop\\\\Library\\\\Library-React\\\\my-app\\\\src\\\\components\\\\auth\\\\AuthInformation.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from 'react-router-dom';\nimport { useOktaAuth } from '@okta/okta-react';\nimport styled from 'styled-components';\nconst Li = styled.li`\n    color: white;\n    text-decoration: none;\n    padding: 0.5rem 1rem;\n    justify-content: end;\n    margin-right: 2rem;\n`;\n\nconst AuthInformation = () => {\n  const {\n    authState,\n    authService\n  } = useOktaAuth();\n  const [userInfo, setUserInfo] = useState(null);\n  useEffect(() => {\n    if (!authState.isAuthenticated) {\n      setUserInfo(null);\n    } else {\n      authService.getUser().then(info => {\n        setUserInfo(info);\n      });\n    }\n  }, [authState, authService]); // Update if authState changes\n\n  const button = authState.isAuthenticated ? /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      authService.logout();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, \"Logout\") : /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      authService.login();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, \"Login\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, button, userInfo && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, userInfo.groups.includes(\"Admin\") && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Li, {\n    className: \"nav-links\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 15\n    }\n  }, \"Add books\"), /*#__PURE__*/React.createElement(Li, {\n    className: \"nav-links\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 15\n    }\n  }, \"View orders\"))));\n};\n\nexport default AuthInformation;","map":{"version":3,"sources":["C:/Users/robin/Desktop/Library/Library-React/my-app/src/components/auth/AuthInformation.js"],"names":["React","useState","useEffect","Link","useOktaAuth","styled","Li","li","AuthInformation","authState","authService","userInfo","setUserInfo","isAuthenticated","getUser","then","info","button","logout","login","groups","includes"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,MAAMC,EAAE,GAAGD,MAAM,CAACE,EAAG;;;;;;CAArB;;AASA,MAAMC,eAAe,GAAG,MAAM;AAC5B,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAA6BN,WAAW,EAA9C;AACA,QAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,IAAD,CAAxC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACO,SAAS,CAACI,eAAf,EAAgC;AAE9BD,MAAAA,WAAW,CAAC,IAAD,CAAX;AACD,KAHD,MAGO;AACLF,MAAAA,WAAW,CAACI,OAAZ,GAAsBC,IAAtB,CAA2BC,IAAI,IAAI;AACjCJ,QAAAA,WAAW,CAACI,IAAD,CAAX;AACD,OAFD;AAGD;AACF,GATQ,EASN,CAACP,SAAD,EAAYC,WAAZ,CATM,CAAT,CAH4B,CAYE;;AAE9B,QAAMO,MAAM,GAAGR,SAAS,CAACI,eAAV,gBACb;AAAQ,IAAA,OAAO,EAAE,MAAM;AAACH,MAAAA,WAAW,CAACQ,MAAZ;AAAqB,KAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADa,gBAEb;AAAQ,IAAA,OAAO,EAAE,MAAM;AAACR,MAAAA,WAAW,CAACS,KAAZ;AAAoB,KAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFF;AAIA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGF,MADH,EAEGN,QAAQ,iBACP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,QAAQ,CAACS,MAAT,CAAgBC,QAAhB,CAAyB,OAAzB,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,EAAD;AAAI,IAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE,oBAAC,EAAD;AAAI,IAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFF,CAFJ,CAHJ,CADF;AAeD,CAjCD;;AAkCA,eAAeb,eAAf","sourcesContent":["import React, { useState, useEffect} from \"react\";\r\nimport { Link } from 'react-router-dom';\r\nimport { useOktaAuth } from '@okta/okta-react';\r\nimport styled from 'styled-components'\r\n\r\nconst Li = styled.li`\r\n    color: white;\r\n    text-decoration: none;\r\n    padding: 0.5rem 1rem;\r\n    justify-content: end;\r\n    margin-right: 2rem;\r\n`\r\n\r\n\r\nconst AuthInformation = () => {\r\n  const { authState, authService } = useOktaAuth();\r\n  const [userInfo, setUserInfo] = useState(null);\r\n  useEffect(() => {\r\n    if (!authState.isAuthenticated) {\r\n      \r\n      setUserInfo(null);\r\n    } else {\r\n      authService.getUser().then(info => {\r\n        setUserInfo(info);\r\n      });\r\n    }\r\n  }, [authState, authService]); // Update if authState changes\r\n\r\n  const button = authState.isAuthenticated ?\r\n    <button onClick={() => {authService.logout()}}>Logout</button> :\r\n    <button onClick={() => {authService.login()}}>Login</button>;\r\n\r\n  return (\r\n    <div> \r\n      {button}\r\n      {userInfo && (\r\n        <div>\r\n          {userInfo.groups.includes(\"Admin\") && (\r\n            <div>\r\n              <Li className=\"nav-links\"  >Add books</Li>\r\n              <Li className=\"nav-links\">View orders</Li>\r\n            </div>\r\n        )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default AuthInformation;"]},"metadata":{},"sourceType":"module"}