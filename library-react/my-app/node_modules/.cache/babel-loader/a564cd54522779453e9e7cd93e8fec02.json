{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\robin\\\\Desktop\\\\Library\\\\Library-React\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _classCallCheck from\"C:\\\\Users\\\\robin\\\\Desktop\\\\Library\\\\Library-React\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\robin\\\\Desktop\\\\Library\\\\Library-React\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\robin\\\\Desktop\\\\Library\\\\Library-React\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\robin\\\\Desktop\\\\Library\\\\Library-React\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\robin\\\\Desktop\\\\Library\\\\Library-React\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _asyncToGenerator from\"C:\\\\Users\\\\robin\\\\Desktop\\\\Library\\\\Library-React\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";var _temp;import React,{useState,Component}from'react';import{MenuItems}from\"./MenuItems\";import{withOktaAuth,useOktaAuth}from'@okta/okta-react';import'./Navbar.css';function checkUser(){return _checkUser.apply(this,arguments);}function _checkUser(){_checkUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var userInfo;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:if(!(this.props.authState.isAuthenticated&&!this.state.userInfo)){_context6.next=5;break;}_context6.next=3;return this.props.authService.getUser();case 3:userInfo=_context6.sent;this.setState({userInfo:userInfo});case 5:case\"end\":return _context6.stop();}}},_callee6,this);}));return _checkUser.apply(this,arguments);}export default withOktaAuth((_temp=/*#__PURE__*/function(_Component){_inherits(Navbar,_Component);var _super=_createSuper(Navbar);function Navbar(props){var _this;_classCallCheck(this,Navbar);_this=_super.call(this,props);_this.handleClick=function(){_this.setState({clicked:!_this.state.clicked});};_this.state={userInfo:null};_this.checkUser=checkUser.bind(_assertThisInitialized(_this));_this.login=_this.login.bind(_assertThisInitialized(_this));_this.logout=_this.logout.bind(_assertThisInitialized(_this));return _this;}_createClass(Navbar,[{key:\"login\",value:function(){var _login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.props.authService.login('/');case 1:case\"end\":return _context.stop();}}},_callee,this);}));function login(){return _login.apply(this,arguments);}return login;}()},{key:\"logout\",value:function(){var _logout=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:this.props.authService.logout('/');case 1:case\"end\":return _context2.stop();}}},_callee2,this);}));function logout(){return _logout.apply(this,arguments);}return logout;}()},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:this.checkUser();case 1:case\"end\":return _context3.stop();}}},_callee3,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"componentDidUpdate\",value:function(){var _componentDidUpdate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:this.checkUser();case 1:case\"end\":return _context4.stop();}}},_callee4,this);}));function componentDidUpdate(){return _componentDidUpdate.apply(this,arguments);}return componentDidUpdate;}()},{key:\"checkAuthentication\",value:function(){var _checkAuthentication=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var authenticated;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.props.auth.isAuthenticated();case 2:authenticated=_context5.sent;if(authenticated!==this.state.authenticated){this.setState({authenticated:authenticated});}case 4:case\"end\":return _context5.stop();}}},_callee5,this);}));function checkAuthentication(){return _checkAuthentication.apply(this,arguments);}return checkAuthentication;}()},{key:\"render\",value:function render(){var button=this.props.authState.isAuthenticated?/*#__PURE__*/React.createElement(\"button\",{onClick:this.logout},\"Logout\"):/*#__PURE__*/React.createElement(\"button\",{onClick:this.login},\"Login\");return/*#__PURE__*/React.createElement(\"nav\",{className:\"NavBarItems\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"navbar-logo\"},\"Library\",/*#__PURE__*/React.createElement(\"i\",{className:\"fab fa-react\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"menu-icon\"},/*#__PURE__*/React.createElement(\"i\",{onClick:this.handleClick,className:this.state.clicked?'fas fa-times':'fas fa-bars'})),/*#__PURE__*/React.createElement(\"ul\",{className:this.state.clicked?'nav-menu active':'nav-menu'},MenuItems.map(function(item,index){return/*#__PURE__*/React.createElement(\"li\",{key:index},/*#__PURE__*/React.createElement(\"a\",{className:item.cName,href:item.url},item.title));}),button));}}]);return Navbar;}(Component),_temp));","map":{"version":3,"sources":["C:/Users/robin/Desktop/Library/Library-React/my-app/src/components/navbar/Navbar.js"],"names":["React","useState","Component","MenuItems","withOktaAuth","useOktaAuth","checkUser","props","authState","isAuthenticated","state","userInfo","authService","getUser","setState","handleClick","clicked","bind","login","logout","auth","authenticated","button","map","item","index","cName","url","title"],"mappings":"0vCAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA4C,OAA5C,CACA,OAASC,SAAT,KAA0B,aAA1B,CACA,OAASC,YAAT,CAAsBC,WAAtB,KAAyC,kBAAzC,CACA,MAAO,cAAP,C,QAGeC,CAAAA,S,qIAAf,0JACQ,KAAKC,KAAL,CAAWC,SAAX,CAAqBC,eAArB,EAAwC,CAAC,KAAKC,KAAL,CAAWC,QAD5D,kDAE6B,MAAKJ,KAAL,CAAWK,WAAX,CAAuBC,OAAvB,EAF7B,QAEYF,QAFZ,gBAGM,KAAKG,QAAL,CAAc,CAAEH,QAAQ,CAARA,QAAF,CAAd,EAHN,6D,4CAQE,cAAeP,CAAAA,YAAY,uGACzB,gBAAYG,KAAZ,CAAmB,wCACf,uBAAMA,KAAN,EADe,MAgCnBQ,WAhCmB,CAgCL,UAAM,CAChB,MAAKD,QAAL,CAAc,CAACE,OAAO,CAAE,CAAC,MAAKN,KAAL,CAAWM,OAAtB,CAAd,EACH,CAlCkB,CAEf,MAAKN,KAAL,CAAa,CAAEC,QAAQ,CAAE,IAAZ,CAAb,CACA,MAAKL,SAAL,CAAiBA,SAAS,CAACW,IAAV,+BAAjB,CACA,MAAKC,KAAL,CAAa,MAAKA,KAAL,CAAWD,IAAX,+BAAb,CACA,MAAKE,MAAL,CAAc,MAAKA,MAAL,CAAYF,IAAZ,+BAAd,CALe,aAOhB,CARsB,yPAWrB,KAAKV,KAAL,CAAWK,WAAX,CAAuBM,KAAvB,CAA6B,GAA7B,EAXqB,iXAerB,KAAKX,KAAL,CAAWK,WAAX,CAAuBO,MAAvB,CAA8B,GAA9B,EAfqB,4YAmBrB,KAAKb,SAAL,GAnBqB,+aAuBrB,KAAKA,SAAL,GAvBqB,6dA2BO,MAAKC,KAAL,CAAWa,IAAX,CAAgBX,eAAhB,EA3BP,QA2BfY,aA3Be,gBA4BrB,GAAIA,aAAa,GAAK,KAAKX,KAAL,CAAWW,aAAjC,CAAgD,CAC5C,KAAKP,QAAL,CAAc,CAAEO,aAAa,CAAbA,aAAF,CAAd,EACH,CA9BoB,uNAqChB,CACL,GAAMC,CAAAA,MAAM,CAAG,KAAKf,KAAL,CAAWC,SAAX,CAAqBC,eAArB,cACf,8BAAQ,OAAO,CAAE,KAAKU,MAAtB,WADe,cAEf,8BAAQ,OAAO,CAAE,KAAKD,KAAtB,UAFA,CAIA,mBACI,2BAAK,SAAS,CAAC,aAAf,eACI,0BAAI,SAAS,CAAC,aAAd,yBAAmC,yBAAG,SAAS,CAAC,cAAb,EAAnC,CADJ,cAEI,2BAAK,SAAS,CAAC,WAAf,eACI,yBAAG,OAAO,CAAE,KAAKH,WAAjB,CAA8B,SAAS,CAAE,KAAKL,KAAL,CAAWM,OAAX,CAAqB,cAArB,CAAqC,aAA9E,EADJ,CAFJ,cAKI,0BAAI,SAAS,CAAE,KAAKN,KAAL,CAAWM,OAAX,CAAqB,iBAArB,CAAyC,UAAxD,EAEKb,SAAS,CAACoB,GAAV,CAAc,SAACC,IAAD,CAAMC,KAAN,CAAgB,CAC3B,mBACA,0BAAI,GAAG,CAAEA,KAAT,eAAgB,yBAAG,SAAS,CAAED,IAAI,CAACE,KAAnB,CAA0B,IAAI,CAAEF,IAAI,CAACG,GAArC,EACXH,IAAI,CAACI,KADM,CAAhB,CADA,CAOH,CARA,CAFL,CAWEN,MAXF,CALJ,CADJ,CAsBH,CAhEwB,oBAAsBpB,SAAtB,SAA3B","sourcesContent":["import React, { useState, Component  } from 'react'\r\nimport { MenuItems } from \"./MenuItems\"\r\nimport { withOktaAuth,useOktaAuth } from '@okta/okta-react';\r\nimport './Navbar.css'\r\n\r\n\r\nasync function checkUser() {\r\n    if (this.props.authState.isAuthenticated && !this.state.userInfo) {\r\n      const userInfo = await this.props.authService.getUser();\r\n      this.setState({ userInfo });\r\n    }\r\n  }\r\n\r\n\r\n  export default withOktaAuth(class Navbar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { userInfo: null};\r\n        this.checkUser = checkUser.bind(this);\r\n        this.login = this.login.bind(this);\r\n        this.logout = this.logout.bind(this);\r\n        \r\n      }\r\n\r\n      async login() {\r\n        this.props.authService.login('/');\r\n      }\r\n    \r\n      async logout() {\r\n        this.props.authService.logout('/');\r\n      }\r\n\r\n      async componentDidMount() {\r\n        this.checkUser();\r\n      }\r\n    \r\n      async componentDidUpdate() {\r\n        this.checkUser();\r\n      }\r\n      \r\n      async checkAuthentication() {\r\n        const authenticated = await this.props.auth.isAuthenticated();\r\n        if (authenticated !== this.state.authenticated) {\r\n            this.setState({ authenticated });\r\n        }\r\n    }\r\n\r\n    handleClick = () => {\r\n        this.setState({clicked: !this.state.clicked})\r\n    }\r\n   \r\n    render() {\r\n        const button = this.props.authState.isAuthenticated ?\r\n        <button onClick={this.logout}>Logout</button> :\r\n        <button onClick={this.login}>Login</button>;\r\n\r\n        return (\r\n            <nav className=\"NavBarItems\">\r\n                <h1 className=\"navbar-logo\">Library<i className=\"fab fa-react\"></i></h1>\r\n                <div className=\"menu-icon\">\r\n                    <i onClick={this.handleClick} className={this.state.clicked ? 'fas fa-times': 'fas fa-bars'}></i>\r\n                </div>\r\n                <ul className={this.state.clicked ? 'nav-menu active' : 'nav-menu'}>\r\n                  \r\n                    {MenuItems.map((item,index) => {\r\n                        return (\r\n                        <li key={index}><a className={item.cName} href={item.url}>\r\n                            {item.title}\r\n                        </a>\r\n                        </li>\r\n                        \r\n                        )  \r\n                    })}\r\n                 {button}\r\n                    \r\n                </ul>\r\n            </nav>\r\n        )\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}